<!DOCTYPE html>
<html>
<head>
    <title>æµ‹è¯•ä¹¦ç­¾å·¥å…·</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; line-height: 1.6; }
        .test-btn { background: #007cba; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; margin: 10px; }
        .code { background: #f5f5f5; padding: 15px; border-radius: 5px; font-family: monospace; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>ä¹¦ç­¾å·¥å…·æµ‹è¯•é¡µé¢</h1>
    
    <h2>æ–¹æ³•1ï¼šç›´æ¥æµ‹è¯•</h2>
    <p>ç‚¹å‡»ä¸‹é¢çš„æŒ‰é’®æ¥æµ‹è¯•ä¹¦ç­¾åŠŸèƒ½ï¼š</p>
    <button class="test-btn" onclick="testBookmarklet()">ğŸ§ª æµ‹è¯•ä¹¦ç­¾å·¥å…·</button>
    
    <h2>æ–¹æ³•2ï¼šå¤åˆ¶ä»£ç åˆ°æµè§ˆå™¨æ§åˆ¶å°</h2>
    <p>æŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œåœ¨æ§åˆ¶å°ç²˜è´´ä¸‹é¢çš„ä»£ç å¹¶å›è½¦ï¼š</p>
    <div class="code">
(function(){
    try{
        var best=null;
        var candidates=document.querySelectorAll('article,main,.content,.post-content,.entry-content');
        if(!candidates.length){candidates=document.querySelectorAll('div');}
        var bestScore=0;
        for(var i=0;i<candidates.length;i++){
            var el=candidates[i];
            if(!el.textContent)continue;
            var words=el.textContent.split(/\s+/).length;
            var score=words;
            if(words>bestScore&&words>50){bestScore=words;best=el;}
        }
        if(!best){
            for(var i=0;i<candidates.length;i++){
                var el=candidates[i];
                var words=el.textContent.split(/\s+/).length;
                if(words>bestScore&&words>10){bestScore=words;best=el;}
            }
        }
        if(!best)best=document.body;
        var title=document.title||'Web Content';
        var content=best.textContent||best.innerText||'';
        var result='# '+title+'\n\n**URL:** '+location.href+'\n**Captured:** '+new Date().toLocaleString()+'\n\n---\n\n'+content;
        var win=window.open('','_blank','width=800,height=600');
        if(win){
            win.document.write('<html><head><title>Content Extracted</title><style>body{font-family:Arial,sans-serif;margin:20px;line-height:1.6}textarea{width:100%;height:400px;border:1px solid #ddd;padding:10px;font-family:monospace}</style></head><body><h2>Content Extracted</h2><textarea>'+result.replace(/'/g,"&apos;")+'</textarea><br><button onclick="document.querySelector(\'textarea\').select();document.execCommand(\'copy\');alert(\'Copied!\');">Copy</button></body></html>');
            win.document.close();
        }
    }catch(e){
        alert('Error: '+e.message);
    }
})()
    </div>

    <h2>æµ‹è¯•å†…å®¹</h2>
    <article class="content">
        <h1>è¿™æ˜¯æµ‹è¯•æ–‡ç« æ ‡é¢˜</h1>
        <p>è¿™æ˜¯ç¬¬ä¸€æ®µæµ‹è¯•å†…å®¹ã€‚è¿™ä¸ªæ®µè½åŒ…å«è¶³å¤Ÿçš„æ–‡å­—æ¥æµ‹è¯•å†…å®¹æå–åŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚</p>
        <p>è¿™æ˜¯ç¬¬äºŒæ®µæµ‹è¯•å†…å®¹ã€‚ä¹¦ç­¾å·¥å…·åº”è¯¥èƒ½å¤Ÿè¯†åˆ«è¿™ä¸ªarticleå…ƒç´ å¹¶æå–å…¶ä¸­çš„æ‰€æœ‰æ–‡æœ¬å†…å®¹ã€‚</p>
        <h2>å­æ ‡é¢˜</h2>
        <p>æ›´å¤šæµ‹è¯•å†…å®¹åœ¨è¿™é‡Œã€‚è¿™äº›å†…å®¹åº”è¯¥è¢«å®Œæ•´åœ°æå–å‡ºæ¥ï¼Œå½¢æˆå¯è¯»çš„markdownæ ¼å¼ã€‚</p>
    </article>

    <script>
        function testBookmarklet() {
            // æ‰§è¡Œä¸ä¹¦ç­¾ç›¸åŒçš„ä»£ç 
            try{
                var best=null;
                var candidates=document.querySelectorAll('article,main,.content,.post-content,.entry-content');
                if(!candidates.length){candidates=document.querySelectorAll('div');}
                var bestScore=0;
                for(var i=0;i<candidates.length;i++){
                    var el=candidates[i];
                    if(!el.textContent)continue;
                    var words=el.textContent.split(/\s+/).length;
                    var score=words;
                    if(words>bestScore&&words>50){bestScore=words;best=el;}
                }
                if(!best){
                    for(var i=0;i<candidates.length;i++){
                        var el=candidates[i];
                        var words=el.textContent.split(/\s+/).length;
                        if(words>bestScore&&words>10){bestScore=words;best=el;}
                    }
                }
                if(!best)best=document.body;
                var title=document.title||'Web Content';
                var content=best.textContent||best.innerText||'';
                var result='# '+title+'\n\n**URL:** '+location.href+'\n**Captured:** '+new Date().toLocaleString()+'\n\n---\n\n'+content;
                var win=window.open('','_blank','width=800,height=600');
                if(win){
                    win.document.write('<html><head><title>Content Extracted</title><style>body{font-family:Arial,sans-serif;margin:20px;line-height:1.6}textarea{width:100%;height:400px;border:1px solid #ddd;padding:10px;font-family:monospace}</style></head><body><h2>Content Extracted</h2><textarea>'+result.replace(/'/g,"&apos;")+'</textarea><br><button onclick="document.querySelector(\'textarea\').select();document.execCommand(\'copy\');alert(\'Copied!\');">Copy</button></body></html>');
                    win.document.close();
                }
            }catch(e){
                alert('Error: '+e.message);
            }
        }
    </script>
</body>
</html>