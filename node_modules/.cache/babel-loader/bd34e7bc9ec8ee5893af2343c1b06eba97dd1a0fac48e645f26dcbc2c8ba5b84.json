{"ast":null,"code":"import React,{useState,useCallback,useEffect}from'react';import'./CodeInputBox.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CodeInputBox=_ref=>{let{onFilesProcessed}=_ref;const[files,setFiles]=useState([]);const[isDragOver,setIsDragOver]=useState(false);const handleFileChange=event=>{handleFiles(event.target.files);};const handleDrop=useCallback(event=>{event.preventDefault();event.stopPropagation();setIsDragOver(false);handleFiles(event.dataTransfer.files);},[]);const handleDragOver=useCallback(event=>{event.preventDefault();event.stopPropagation();setIsDragOver(true);},[]);const handleDragLeave=useCallback(event=>{event.preventDefault();event.stopPropagation();setIsDragOver(false);},[]);const handleFiles=fileList=>{if(fileList.length>0){const newFiles=Array.from(fileList).map(file=>({name:file.name,size:file.size// actual file object might be needed for processing later\n// rawFile: file \n}));setFiles(prevFiles=>[...prevFiles,...newFiles]);// Call the callback with a placeholder for content and the new file details\nonFilesProcessed(\"Content from \".concat(newFiles.length,\" files processed.\"),newFiles);}};// Effect to call lucide.createIcons() when files change, so new icons are rendered\nuseEffect(()=>{if(window.lucide){window.lucide.createIcons();}},[files]);return/*#__PURE__*/_jsxs(\"div\",{className:\"bento-box code-input-box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"box-header\",children:[/*#__PURE__*/_jsx(\"i\",{\"data-lucide\":\"file-code-2\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Code Processor\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"box-description\",children:\"Upload code files, folders, or a ZIP archive.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-drop-area \".concat(isDragOver?'dragover':''),onDrop:handleDrop,onDragOver:handleDragOver,onDragLeave:handleDragLeave,children:[/*#__PURE__*/_jsx(\"i\",{\"data-lucide\":\"upload-cloud\",className:\"upload-icon\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Drag & drop files here\"}),/*#__PURE__*/_jsx(\"p\",{className:\"or-text\",children:\"or\"}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"file-upload-input\",className:\"custom-file-upload\",children:[/*#__PURE__*/_jsx(\"i\",{\"data-lucide\":\"file-plus\"}),\" Choose Files\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"file-upload-input\",multiple:true//   webkitdirectory=\"true\" // Note: webkitdirectory is non-standard\n//   directory=\"true\" // Note: directory is non-standard\n,style:{display:'none'},onChange:handleFileChange})]}),files.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"file-list-preview\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Selected Files:\"}),/*#__PURE__*/_jsx(\"ul\",{children:files.map((file,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[file.name,\" (\",(file.size/1024).toFixed(2),\" KB)\"]},index))})]})]});};export default CodeInputBox;","map":{"version":3,"names":["React","useState","useCallback","useEffect","jsx","_jsx","jsxs","_jsxs","CodeInputBox","_ref","onFilesProcessed","files","setFiles","isDragOver","setIsDragOver","handleFileChange","event","handleFiles","target","handleDrop","preventDefault","stopPropagation","dataTransfer","handleDragOver","handleDragLeave","fileList","length","newFiles","Array","from","map","file","name","size","prevFiles","concat","window","lucide","createIcons","className","children","onDrop","onDragOver","onDragLeave","htmlFor","type","id","multiple","style","display","onChange","index","toFixed"],"sources":["/Users/yushaw/dev/context.isallyouneed.io/src/components/CodeInputBox.js"],"sourcesContent":["import React, { useState, useCallback, useEffect } from 'react';\nimport './CodeInputBox.css';\n\nconst CodeInputBox = ({ onFilesProcessed }) => {\n  const [files, setFiles] = useState([]);\n  const [isDragOver, setIsDragOver] = useState(false);\n\n  const handleFileChange = (event) => {\n    handleFiles(event.target.files);\n  };\n\n  const handleDrop = useCallback((event) => {\n    event.preventDefault();\n    event.stopPropagation();\n    setIsDragOver(false);\n    handleFiles(event.dataTransfer.files);\n  }, []);\n\n  const handleDragOver = useCallback((event) => {\n    event.preventDefault();\n    event.stopPropagation();\n    setIsDragOver(true);\n  }, []);\n\n  const handleDragLeave = useCallback((event) => {\n    event.preventDefault();\n    event.stopPropagation();\n    setIsDragOver(false);\n  }, []);\n\n  const handleFiles = (fileList) => {\n    if (fileList.length > 0) {\n      const newFiles = Array.from(fileList).map(file => ({\n        name: file.name,\n        size: file.size,\n        // actual file object might be needed for processing later\n        // rawFile: file \n      }));\n      setFiles(prevFiles => [...prevFiles, ...newFiles]);\n      // Call the callback with a placeholder for content and the new file details\n      onFilesProcessed(`Content from ${newFiles.length} files processed.`, newFiles);\n    }\n  };\n\n  // Effect to call lucide.createIcons() when files change, so new icons are rendered\n  useEffect(() => {\n    if (window.lucide) {\n      window.lucide.createIcons();\n    }\n  }, [files]);\n\n  return (\n    <div className=\"bento-box code-input-box\">\n      <div className=\"box-header\">\n        <i data-lucide=\"file-code-2\"></i>\n        <h2>Code Processor</h2>\n      </div>\n      <p className=\"box-description\">Upload code files, folders, or a ZIP archive.</p>\n      <div \n        className={`file-drop-area ${isDragOver ? 'dragover' : ''}`}\n        onDrop={handleDrop}\n        onDragOver={handleDragOver}\n        onDragLeave={handleDragLeave}\n      >\n        <i data-lucide=\"upload-cloud\" className=\"upload-icon\"></i>\n        <p>Drag & drop files here</p>\n        <p className=\"or-text\">or</p>\n        <label htmlFor=\"file-upload-input\" className=\"custom-file-upload\">\n          <i data-lucide=\"file-plus\"></i> Choose Files\n        </label>\n        <input \n          type=\"file\" \n          id=\"file-upload-input\" \n          multiple \n        //   webkitdirectory=\"true\" // Note: webkitdirectory is non-standard\n        //   directory=\"true\" // Note: directory is non-standard\n          style={{ display: 'none' }} \n          onChange={handleFileChange}\n        />\n      </div>\n      {files.length > 0 && (\n        <div className=\"file-list-preview\">\n          <h4>Selected Files:</h4>\n          <ul>\n            {files.map((file, index) => (\n              <li key={index}>\n                {file.name} ({(file.size / 1024).toFixed(2)} KB)\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CodeInputBox; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,WAAW,CAAEC,SAAS,KAAQ,OAAO,CAC/D,MAAO,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5B,KAAM,CAAAC,YAAY,CAAGC,IAAA,EAA0B,IAAzB,CAAEC,gBAAiB,CAAC,CAAAD,IAAA,CACxC,KAAM,CAACE,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACY,UAAU,CAAEC,aAAa,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CAEnD,KAAM,CAAAc,gBAAgB,CAAIC,KAAK,EAAK,CAClCC,WAAW,CAACD,KAAK,CAACE,MAAM,CAACP,KAAK,CAAC,CACjC,CAAC,CAED,KAAM,CAAAQ,UAAU,CAAGjB,WAAW,CAAEc,KAAK,EAAK,CACxCA,KAAK,CAACI,cAAc,CAAC,CAAC,CACtBJ,KAAK,CAACK,eAAe,CAAC,CAAC,CACvBP,aAAa,CAAC,KAAK,CAAC,CACpBG,WAAW,CAACD,KAAK,CAACM,YAAY,CAACX,KAAK,CAAC,CACvC,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAY,cAAc,CAAGrB,WAAW,CAAEc,KAAK,EAAK,CAC5CA,KAAK,CAACI,cAAc,CAAC,CAAC,CACtBJ,KAAK,CAACK,eAAe,CAAC,CAAC,CACvBP,aAAa,CAAC,IAAI,CAAC,CACrB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAU,eAAe,CAAGtB,WAAW,CAAEc,KAAK,EAAK,CAC7CA,KAAK,CAACI,cAAc,CAAC,CAAC,CACtBJ,KAAK,CAACK,eAAe,CAAC,CAAC,CACvBP,aAAa,CAAC,KAAK,CAAC,CACtB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAG,WAAW,CAAIQ,QAAQ,EAAK,CAChC,GAAIA,QAAQ,CAACC,MAAM,CAAG,CAAC,CAAE,CACvB,KAAM,CAAAC,QAAQ,CAAGC,KAAK,CAACC,IAAI,CAACJ,QAAQ,CAAC,CAACK,GAAG,CAACC,IAAI,GAAK,CACjDC,IAAI,CAAED,IAAI,CAACC,IAAI,CACfC,IAAI,CAAEF,IAAI,CAACE,IACX;AACA;AACF,CAAC,CAAC,CAAC,CACHrB,QAAQ,CAACsB,SAAS,EAAI,CAAC,GAAGA,SAAS,CAAE,GAAGP,QAAQ,CAAC,CAAC,CAClD;AACAjB,gBAAgB,iBAAAyB,MAAA,CAAiBR,QAAQ,CAACD,MAAM,sBAAqBC,QAAQ,CAAC,CAChF,CACF,CAAC,CAED;AACAxB,SAAS,CAAC,IAAM,CACd,GAAIiC,MAAM,CAACC,MAAM,CAAE,CACjBD,MAAM,CAACC,MAAM,CAACC,WAAW,CAAC,CAAC,CAC7B,CACF,CAAC,CAAE,CAAC3B,KAAK,CAAC,CAAC,CAEX,mBACEJ,KAAA,QAAKgC,SAAS,CAAC,0BAA0B,CAAAC,QAAA,eACvCjC,KAAA,QAAKgC,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBnC,IAAA,MAAG,cAAY,aAAa,CAAI,CAAC,cACjCA,IAAA,OAAAmC,QAAA,CAAI,gBAAc,CAAI,CAAC,EACpB,CAAC,cACNnC,IAAA,MAAGkC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,+CAA6C,CAAG,CAAC,cAChFjC,KAAA,QACEgC,SAAS,mBAAAJ,MAAA,CAAoBtB,UAAU,CAAG,UAAU,CAAG,EAAE,CAAG,CAC5D4B,MAAM,CAAEtB,UAAW,CACnBuB,UAAU,CAAEnB,cAAe,CAC3BoB,WAAW,CAAEnB,eAAgB,CAAAgB,QAAA,eAE7BnC,IAAA,MAAG,cAAY,cAAc,CAACkC,SAAS,CAAC,aAAa,CAAI,CAAC,cAC1DlC,IAAA,MAAAmC,QAAA,CAAG,wBAAsB,CAAG,CAAC,cAC7BnC,IAAA,MAAGkC,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,IAAE,CAAG,CAAC,cAC7BjC,KAAA,UAAOqC,OAAO,CAAC,mBAAmB,CAACL,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eAC/DnC,IAAA,MAAG,cAAY,WAAW,CAAI,CAAC,gBACjC,EAAO,CAAC,cACRA,IAAA,UACEwC,IAAI,CAAC,MAAM,CACXC,EAAE,CAAC,mBAAmB,CACtBC,QAAQ,KACV;AACA;AAAA,CACEC,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAO,CAAE,CAC3BC,QAAQ,CAAEnC,gBAAiB,CAC5B,CAAC,EACC,CAAC,CACLJ,KAAK,CAACe,MAAM,CAAG,CAAC,eACfnB,KAAA,QAAKgC,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCnC,IAAA,OAAAmC,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxBnC,IAAA,OAAAmC,QAAA,CACG7B,KAAK,CAACmB,GAAG,CAAC,CAACC,IAAI,CAAEoB,KAAK,gBACrB5C,KAAA,OAAAiC,QAAA,EACGT,IAAI,CAACC,IAAI,CAAC,IAAE,CAAC,CAACD,IAAI,CAACE,IAAI,CAAG,IAAI,EAAEmB,OAAO,CAAC,CAAC,CAAC,CAAC,MAC9C,GAFSD,KAEL,CACL,CAAC,CACA,CAAC,EACF,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAA3C,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}